<!-- THIS IS A FIREBOT SPECIFIC IMPLEMENTATION! I HAVE NO IDEA HOW STREAMERBOT WORKS AND THAT SHIT SUCKS ANYWAY! LMAO.
    FOR FIREBOT COPY EVERYTHING INSIDE body TAG INTO SHOW HTML EFFECT.
    
-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body style="background: black;">
    <!-- NILK: https://cdn.7tv.app/emote/01K4CCM2ZQPBVPA3FHQKYEXETG/4x.gif -->
<style>
#wrapper {
    position: fixed;
    left:0;
    top:0;
    width:100dvw;
    height:100dvh;
}
#anchor {
    position: absolute;
    left: -60px;
    top: 50%;
}
#thought-container{
    display: flex;
    flex-direction: row;
    scale: 400%;
    transform-origin: 0 0;
}
#think-image-1 {
    position: relative;
    align-self: center;
    image-rendering: pixelated;
    animation: appear 1ms linear 0.5s forwards;
    opacity: 0;
    
}
#think-image-2 {
    position: relative;
    align-self: center;
    translate: -1px -9px;
    image-rendering: pixelated;
    animation: appear 1ms linear 1s forwards;
    opacity: 0;
    
}
#think-image-3 {
    image-rendering: pixelated;
    align-self: flex-start;
    animation: appear 1ms linear 1.5s forwards;
    opacity: 0;
    
}

#data-container {
    position: absolute;
    top: 0;
    left: 0;
    width: 220px;
    height: 184px;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    left: 308px;
    animation: appear 1ms linear 1.5s forwards;
    opacity: 0;
}

#user-image {
    border-radius: 100%;
    height: 85px;
    image-rendering: pixelated;
}
#emote-image {
    border-radius: 100%;
    height: 85px;
    image-rendering: pixelated;
}
#text {
  	color: white;/*<- replace wwith user display name color grab from your streamer bot application*/
    font-family: "JetBrains Mono";
    font-weight: bold;
    font-size: 20px;
    width: 140px;
    overflow: hidden;
    text-align: center;
    white-space: nowrap;
    text-overflow: ellipsis;
    text-shadow: 1px 1px 2px black;
}

#thinker-image {
    position: relative;
    border-radius: 100%;
    height: 55px;
    width: 55px;
    translate: 0 20px;
    background-image: url("$userAvatarUrl[$user]");
    background-size: 55px;
    opacity: 100%;
}

#username {
  	color: white;/*<- replace wwith user display name color grab from your streamer bot application*/
    position: relative;
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
    font-family: "JetBrains Mono";
    font-size: 6px;
    top: -8px;
    width: 40px;
    right: -15px;
    text-shadow: 0.25px 0.25px 0.5px black;
}

@keyframes appear {
    0% {opacity: 0%;}
    100% {opacity: 100%;}
}

</style>

<div id="wrapper">
 <div id="anchor">
    <div id="thought-container">
        <div id="thinker-image">
            <div id="username" style="color:$chatUserColor[$user]">$userDisplayName[$user]</div>
        </div>
        <img id="think-image-1" src="https://raw.githubusercontent.com/GibberishDev/resrrep/refs/heads/main/thinking1.gif" alt="">
        <img id="think-image-2" src="https://raw.githubusercontent.com/GibberishDev/resrrep/refs/heads/main/thinking2.gif" alt="">
        <img id="think-image-3" src="https://raw.githubusercontent.com/GibberishDev/resrrep/refs/heads/main/thinking3.gif?t=0" alt="">
    </div>
    <div id="data-container">
        <div id="text";>$arg[1]</div>
        <img id="user-image" src="$userAvatarUrl[$arg[1]]" alt="">
        <img id="emote-image" src="$userAvatarUrl[$arg[1]]" alt="">
    </div>
 </div>
</div>

<script defer>
    function determineType() {
        if ("$chatMessageEmoteUrls[2]" != "") {
            processEmote()
        } else if ("$userAvatarUrl[$arg[1]]" != "" && ("$isUserInChat[$arg[1]]" == "true" || "$userExists[$arg[1]]" == "true")) {
            processUser()
        } else {
            processWord()
        }
    }

    function processEmote() {
        document.getElementById("text").style.display = "none"
        document.getElementById("user-image").style.display = "none"
        document.getElementById("emote-image").src = "$chatMessageEmoteUrls[1]"
    }

    function processUser() {
        document.getElementById("text").innerHTML = "$userDisplayName[$arg[1]]"
        document.getElementById("user-image").src = "$userAvatarUrl[$arg[1]]"
        document.getElementById("emote-image").style.display = "none"
    }

    function processWord() {
        document.getElementById("text").innerHTML = "$arg[1]"
        document.getElementById("user-image").style.display = "none"
        document.getElementById("emote-image").style.display = "none"
    }

    determineType()
</script>
</body>
</html>
